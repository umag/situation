{"openapi":"3.1.0","info":{"title":"Luminork API","description":"System Initiative External API server","version":"1.0.0"},"servers":[{"url":"/","description":"Public API Server for System Initiative"}],"paths":{"/":{"get":{"tags":["root"],"operationId":"system_status_route","responses":{"200":{"description":"System status information","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemStatusResponse"}}}},"503":{"description":"Service in maintenance mode"}}}},"/v1/w/{workspace_id}/change-sets":{"get":{"tags":["change_sets"],"operationId":"list_change_sets","parameters":[{"name":"workspace_id","in":"path","description":"Workspace identifier","required":true}],"responses":{"200":{"description":"Change sets listed successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListChangeSetV1Response"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"}}}}}},"post":{"tags":["change_sets"],"operationId":"create_change_set","parameters":[{"name":"workspace_id","in":"path","description":"Workspace identifier","required":true}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateChangeSetV1Request"}}},"required":true},"responses":{"200":{"description":"Change set created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateChangeSetV1Response"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"}}}}}}},"/v1/w/{workspace_id}/change-sets/{change_set_id}":{"get":{"tags":["change_sets"],"operationId":"get_change_set","parameters":[{"name":"workspace_id","in":"path","description":"Workspace identifier","required":true},{"name":"change_set_id","in":"path","description":"Change set identifier","required":true}],"responses":{"200":{"description":"Change sets listed successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetChangeSetV1Response"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"}}}}}},"delete":{"tags":["change_sets"],"operationId":"abandon_change_set","parameters":[{"name":"workspace_id","in":"path","description":"Workspace identifier","required":true},{"name":"change_set_id","in":"path","description":"Change set identifier","required":true}],"responses":{"200":{"description":"Change set deleted successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteChangeSetV1Response"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"}}}}}}},"/v1/w/{workspace_id}/change-sets/{change_set_id}/components/{component_id}":{"get":{"tags":["components"],"operationId":"get_component","parameters":[{"name":"workspace_id","in":"path","description":"Workspace identifier","required":true},{"name":"change_set_id","in":"path","description":"Change set identifier","required":true},{"name":"component_id","in":"path","description":"Component identifier","required":true}],"responses":{"200":{"description":"Component retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetComponentV1Response"}}}},"401":{"description":"Unauthorized - Invalid or missing token"},"404":{"description":"Component not found"},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"}}}}}}},"/v1/w/{workspace_id}/change-sets/{change_set_id}/components/{component_id}/properties":{"put":{"tags":["components"],"summary":"Update component properties","operationId":"update_component_properties","parameters":[{"name":"workspace_id","in":"path","description":"Workspace identifier","required":true},{"name":"change_set_id","in":"path","description":"Change set identifier","required":true},{"name":"component_id","in":"path","description":"Component identifier","required":true}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateComponentPropertiesV1Request"}}},"required":true},"responses":{"200":{"description":"Component properties updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateComponentPropertiesV1Response"}}}},"404":{"description":"Component not found"},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"}}}}}}},"/v1/w/{workspace_id}/change-sets/{change_set_id}/force_apply":{"post":{"tags":["change_sets"],"summary":"Force apply a change set","operationId":"force_apply","parameters":[{"name":"workspace_id","in":"path","description":"Workspace identifier","required":true},{"name":"change_set_id","in":"path","description":"Change set identifier","required":true}],"responses":{"200":{"description":"Change set force applied successfully"},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"}}}}}}},"/v1/w/{workspace_id}/change-sets/{change_set_id}/management/prototype/{management_prototype_id}/{component_id}/{view_id}":{"post":{"tags":["management"],"operationId":"run_prototype","parameters":[{"name":"workspace_id","in":"path","description":"Workspace identifier","required":true},{"name":"change_set_id","in":"path","description":"Change set identifier","required":true},{"name":"management_prototype_id","in":"path","description":"Management prototype identifier","required":true},{"name":"component_id","in":"path","description":"Component identifier","required":true},{"name":"view_id","in":"path","description":"View identifier","required":true}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RunPrototypeV1Request"}}},"required":true},"responses":{"200":{"description":"Management prototype executed successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RunPrototypeV1Response"}}}},"400":{"description":"Bad request - Execution failed"},"500":{"description":"Internal server error"}}}},"/v1/w/{workspace_id}/change-sets/{change_set_id}/merge_status":{"get":{"tags":["change_sets"],"summary":"Get status of a change set and its actions","operationId":"merge_status","parameters":[{"name":"workspace_id","in":"path","description":"Workspace identifier","required":true},{"name":"change_set_id","in":"path","description":"Change set identifier","required":true}],"responses":{"200":{"description":"Change set merge status retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MergeStatusV1Response"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"}}}}}}},"/v1/w/{workspace_id}/change-sets/{change_set_id}/request_approval":{"post":{"tags":["change_sets"],"summary":"Request approval for a change set","operationId":"request_approval","parameters":[{"name":"workspace_id","in":"path","description":"Workspace identifier","required":true},{"name":"change_set_id","in":"path","description":"Change set identifier","required":true}],"responses":{"200":{"description":"Change set approval requested successfully"},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"}}}}}}},"/whoami":{"get":{"tags":["whoami"],"operationId":"whoami","responses":{"200":{"description":"Successfully retrieved user information","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WhoamiResponse"}}}},"401":{"description":"Unauthorized - Invalid or expired token"},"403":{"description":"Forbidden - Insufficient permissions"}}}}},"components":{"schemas":{"ApiError":{"type":"object","description":"Standard error response format for v1 API","required":["message","statusCode"],"properties":{"code":{"type":["integer","null"],"format":"int32"},"message":{"type":"string"},"statusCode":{"type":"integer","format":"int32","minimum":0}}},"ApiSuccess_String":{"type":"object","description":"Standard success response format for v1 API","required":["data"],"properties":{"data":{"type":"string"}}},"ComponentPropKey":{"oneOf":[{"type":"string"},{"$ref":"#/components/schemas/DomainPropPath"}],"description":"Component property key"},"ComponentV1RequestPath":{"type":"object","required":["component_id"],"properties":{"component_id":{"type":"string"}}},"CreateChangeSetV1Request":{"type":"object","required":["changeSetName"],"properties":{"changeSetName":{"type":"string","example":"My new feature"}}},"CreateChangeSetV1Response":{"type":"object","required":["changeSet"],"properties":{"changeSet":{"type":"object"}}},"DeleteChangeSetV1Response":{"type":"object","required":["success"],"properties":{"success":{"type":"boolean","example":"true"}}},"DomainPropPath":{"type":"string","description":"A prop path, starting from root/domain, with / instead of PROP_PATH_SEPARATOR as its separator"},"ErrorDetail":{"type":"object","required":["message","code","status_code"],"properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"status_code":{"type":"integer","format":"int32","minimum":0}}},"ErrorResponse":{"type":"object","required":["error"],"properties":{"error":{"$ref":"#/components/schemas/ErrorDetail"}}},"GeometryAndViewAndName":{"allOf":[{"type":"object"},{"type":"object","required":["name"],"properties":{"name":{"type":"string"}}}]},"GetChangeSetV1Response":{"type":"object","required":["changeSet"],"properties":{"changeSet":{"type":"object"}}},"GetComponentV1Response":{"type":"object","required":["component","viewData","managementFunctions"],"properties":{"component":{"type":"object"},"domain":{},"managementFunctions":{"type":"array","items":{"$ref":"#/components/schemas/GetComponentV1ResponseManagementFunction"}},"viewData":{"type":"array","items":{"$ref":"#/components/schemas/GeometryAndViewAndName"}}}},"GetComponentV1ResponseManagementFunction":{"type":"object","required":["managementPrototypeId","name"],"properties":{"managementPrototypeId":{"type":"string"},"name":{"type":"string"}}},"ListChangeSetV1Response":{"type":"object","required":["changeSets"],"properties":{"changeSets":{"type":"array","items":{"type":"object"},"example":"[{\"id\":\"01H9ZQD35JPMBGHH69BT0Q79VY\",\"name\":\"Add new feature\",\"status\":\"Draft\"}]"}}},"MergeStatusV1Response":{"type":"object","description":"Response for merge status","required":["changeSet","actions"],"properties":{"actions":{"type":"array","items":{"$ref":"#/components/schemas/MergeStatusV1ResponseAction"}},"changeSet":{"type":"object"}}},"MergeStatusV1ResponseAction":{"type":"object","description":"Action item in merge status response","required":["id","state","kind","name"],"properties":{"component":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/MergeStatusV1ResponseActionComponent"}]},"id":{"type":"string"},"kind":{"type":"string"},"name":{"type":"string"},"state":{"type":"string"}}},"MergeStatusV1ResponseActionComponent":{"type":"object","description":"Component details in action response","required":["id","name"],"properties":{"id":{"type":"string"},"name":{"type":"string"}}},"RunPrototypePath":{"type":"object","required":["management_prototype_id","component_id","view_id"],"properties":{"component_id":{"type":"string","example":"01FXNV4P306V3KGZ73YSVN8A60"},"management_prototype_id":{"type":"string","example":"01FXNV4P306V3KGZ73YSVN8A60"},"view_id":{"type":"string","example":"01FXNV4P306V3KGZ73YSVN8A60"}}},"RunPrototypeV1Request":{"type":"object","required":["requestUlid"],"properties":{"requestUlid":{"type":["string","null"],"example":"01FXNV4P306V3KGZ73YSVN8A60"}}},"RunPrototypeV1Response":{"type":"object","required":["status","message"],"properties":{"message":{"type":["string","null"],"example":"Successfully executed management function"},"status":{"type":"string","example":"Ok"}}},"SystemStatusResponse":{"type":"object","required":["What is this?","API Documentation"],"properties":{"API Documentation":{"type":"string","example":"Available at /swagger-ui"},"What is this?":{"type":"string","example":"I am luminork, the new System Initiative External API server"}}},"UpdateComponentPropertiesV1Request":{"type":"object","description":"Request for updating component properties","required":["domain"],"properties":{"domain":{"type":"object","additionalProperties":{},"propertyNames":{"oneOf":[{"type":"string"},{"$ref":"#/components/schemas/DomainPropPath"}],"description":"Component property key"},"example":{"propId1":"value1","path/to/prop":"value2"}}}},"UpdateComponentPropertiesV1Response":{"type":"object","description":"Response for updating component properties"},"WhoamiResponse":{"type":"object","required":["userId","userEmail","workspaceId","token"],"properties":{"token":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"userEmail":{"type":"string","example":"user@example.com"},"userId":{"type":"string","example":"01H9ZQCBJ3E7HBTRN3J58JQX8K"},"workspaceId":{"type":"string","example":"01H9ZQD35JPMBGHH69BT0Q79VY"}}}}},"tags":[{"name":"root","description":"Root API endpoints"},{"name":"whoami","description":"User identity endpoints"},{"name":"change_sets","description":"Change set management endpoints"},{"name":"components","description":"Component management endpoints"},{"name":"management","description":"Management function endpoints"}]}